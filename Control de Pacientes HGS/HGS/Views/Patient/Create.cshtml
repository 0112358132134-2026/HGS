<link rel="stylesheet" href="~/css/createView.css" asp-append-version="true" />
@model HGS.Models.Patient

@{
    ViewData["Title"] = "Añadir Paciente";
}
    
<div class="title">AÑADIR PACIENTE</div>

<div class="row">
    <div class="col">
        <div class="formContainer">
            <form asp-action="Create">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <label asp-for="Dpi" class="control-label">DPI</label>
                    <input asp-for="Dpi" placeholder="Ingrese DPI del paciente" class="form-control" />
                    <span asp-validation-for="Dpi" class="warning-message"></span>
                </div>
                <div class="form-group mt-3">
                    <label asp-for="Name" class="control-label">NOMBRE</label>
                    <input asp-for="Name" placeholder="Ingrese nombre del paciente" class="form-control" />
                    <span asp-validation-for="Name" class="warning-message"></span>
                </div>
                <div class="form-group mt-3">
                    <label asp-for="Lastname" class="control-label">APELLIDO</label>
                    <input asp-for="Lastname" placeholder="Ingrese apellido del paciente" class="form-control" />
                    <span asp-validation-for="Lastname" class="warning-message"></span>
                </div>
                <div class="form-group mt-3">
                    <label asp-for="Birthdate" class="control-label">FECHA DE NACIMIENTO</label>
                    <input asp-for="Birthdate" class="form-control" />
                    <span asp-validation-for="Birthdate" class="warning-message"></span>
                </div>
                <div class="form-group mt-3">
                    <label asp-for="Observations" class="control-label">OBSERVACIONES</label>
                    <input asp-for="Observations" placeholder="Añada alguna observación del paciente" class="form-control" />
                    <span asp-validation-for="Observations" class="warning-message"></span>
                </div>
                <div class="form-group d-grid gap-2 mt-3">
                    <input type="submit" value="Añadir Paciente" class="btn btn-light" />
                </div>
            </form>
        </div>
    </div>
    <div class="col" style="flex-direction:column;padding:30px">
        <div class="information">
            Acá puede agregar un paciente al sistema. En el espacio de "observaciones" puedes añadir
            algún aspecto que se considere relevante conocer acerca del paciente (Ej. Padece de dolores
            de cabeza, hipertensión). Si deseas saber si el paciente ya está en el sistema, puedes dar
            click en el botón "Regresar".            
        </div>
        <div>
            <a asp-action="List">
                <input type="submit" value="↻ Regresar" class="btn btn-dark" style="width:200px;" />
            </a>
        </div>  
    </div>   
</div>

@if (@ViewData["Response"] != null)
{    
    @if (@ViewData["Response"].ToString().Equals("Success"))
    {                
        <script>
            function Error() {
                Swal.fire('OK','¡Paciente ingresado existosamente!','success');
            }
        </script>
    }
    else if (@ViewData["Response"].ToString().Equals("Unsuccessfully"))
    {             
        <script>
            function Error() {
                Swal.fire('Advertencia','¡Este paciente ya ha sido ingresado!','info');
            }
        </script>        
    }
    else if (@ViewData["Response"].ToString().Equals("Error"))
    {
        <script>
            function Error() {
                Swal.fire('Error', 'Ha ocurrido un error inesperado', 'error');
            }
        </script>
    }
}

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}